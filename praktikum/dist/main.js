(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){e.classList.add("popup_opened")}function r(e){e.classList.remove("popup_opened")}e.d({},{ep:()=>q,OP:()=>L,QQ:()=>E,O9:()=>S,AO:()=>x,xZ:()=>u,Gs:()=>i,Y7:()=>l,J$:()=>v,IW:()=>f,Hf:()=>k,DW:()=>g,Qk:()=>y,IP:()=>_});function n(e,r){var n=function(e,r){var n=L.querySelector(".card").cloneNode(!0),o=n.querySelector(".card__image");return o.setAttribute("src",r),o.setAttribute("alt",e),n.querySelector(".card__title").textContent=e,n.querySelector(".card__like-btn").addEventListener("click",(function(e){e.target.classList.toggle("card__like-btn_active")})),n.querySelector(".card__trash-btn").addEventListener("click",(function(){n.remove()})),o.addEventListener("click",(function(){var n,o;n=r,o=e,f.setAttribute("src",""),f.setAttribute("alt",""),f.setAttribute("src",n),f.setAttribute("alt",o),v.textContent=o,t(l)})),n}(e,r);q.prepend(n)}var o,s=function(e,t,r){!function(e){return e.some((function(e){return!e.validity.valid}))}(t)?(r.disabled=!1,r.classList.remove(e.inactiveButtonClass)):(r.disabled=!0,r.classList.add(e.inactiveButtonClass))},a=document.querySelector(".page"),c=a.querySelector(".userbox"),i=a.querySelector(".popup_edit"),u=a.querySelector(".popup_add"),l=a.querySelector(".popup_img"),d=a.querySelectorAll(".popup"),p=c.querySelector(".userbox__edit-btn"),m=c.querySelector(".userbox__add-btn"),f=l.querySelector(".popup__img-item"),v=l.querySelector(".popup__caption-img"),y=c.querySelector(".userbox__name"),_=c.querySelector(".userbox__status"),b=document.forms["edit-form"],S=b.username,k=b.status,q=a.querySelector(".cards"),L=document.querySelector("#card-template").content,E=document.forms["add-form"],x=E.placename,g=E["url-place"];document.addEventListener("keydown",(function(e){"Escape"===e.key&&d.forEach((function(e){e.classList.contains("popup_opened")&&r(e)}))})),p.addEventListener("click",(function(){S.value=y.textContent,k.value=_.textContent,t(i)})),m.addEventListener("click",(function(){t(u)})),d.forEach((function(e){e.addEventListener("click",(function(e){var t=e.target;(t.classList.contains("popup")||t.classList.contains("popup__close-btn"))&&d.forEach((function(e){e.classList.contains("popup_opened")&&r(e)}))}))})),b.addEventListener("submit",(function(e){e.preventDefault();var t=S.value,n=k.value;y.textContent=t,_.textContent=n,r(i)})),E.addEventListener("submit",(function(e){e.preventDefault(),n(x.value,g.value),E.reset(),r(u)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){n(e.name,e.link)})),o={formSelector:".form",inputSelector:".form__item",submitButtonSelector:".form__btn",inactiveButtonClass:"form__btn_state_inactive",inputErrorClass:"form__item_type_error",errorClass:"form__item-error_active"},Array.from(document.querySelectorAll(o.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e,t){var r=Array.from(t.querySelectorAll(e.inputSelector)),n=t.querySelector(e.submitButtonSelector);s(e,r,n),r.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,r){r.validity.patternMismatch?r.setCustomValidity(r.dataset.errorMessage):r.setCustomValidity(""),r.validity.valid?function(e,t,r){var n=t.querySelector(".".concat(r.id,"-error"));r.classList.remove(e.inputErrorClass),n.classList.remove(e.errorClass),n.textContent=""}(e,t,r):function(e,t,r,n){var o=t.querySelector(".".concat(r.id,"-error"));r.classList.add(e.inputErrorClass),o.textContent=n,o.classList.add(e.errorClass)}(e,t,r,r.validationMessage)}(e,t,o),s(e,r,n)}))}))}(o,e)}))})();